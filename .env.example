# KAVACH-AI Configuration
# NO API KEYS REQUIRED - All processing is local

# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME=KAVACH-AI
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true

# ============================================
# SERVER CONFIGURATION
# ============================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# ============================================
# DATABASE
# ============================================
DATABASE_URL=sqlite:///./data/kavach.db
# For PostgreSQL (optional): postgresql://user:password@localhost/kavach

# ============================================
# REDIS (for Celery background tasks)
# ============================================
REDIS_URL=redis://localhost:6379/0

# ============================================
# MODEL PATHS (Local models - auto-downloaded)
# ============================================
MODELS_DIR=./models
SPATIAL_MODEL_PATH=./models/efficientnet_b4_deepfake.onnx
TEMPORAL_MODEL_PATH=./models/lstm_temporal.onnx
AUDIO_MODEL_PATH=./models/audio_classifier.onnx

# ============================================
# PROCESSING CONFIGURATION
# ============================================
# Video Settings
BASE_SAMPLING_INTERVAL=2000  # milliseconds
MAX_SAMPLING_INTERVAL=4000
MIN_SAMPLING_INTERVAL=500
TARGET_LATENCY_MS=5000
FRAME_BUFFER_SIZE=32
VIDEO_RESOLUTION=384

# Audio Settings
AUDIO_SAMPLE_RATE=16000
AUDIO_WINDOW_SECONDS=4.0
AUDIO_OVERLAP_SECONDS=2.0
MEL_BINS=128
MFCC_COEFFICIENTS=13

# Ring Buffer
RING_BUFFER_SECONDS=30

# ============================================
# DETECTION THRESHOLDS
# ============================================
DETECTION_CONFIDENCE_THRESHOLD=0.6
ALERT_THRESHOLD=0.7
HIGH_CONFIDENCE_THRESHOLD=0.9

# Temporal Accumulation
EMA_ALPHA=0.3
TEMPORAL_HALFLIFE_SECONDS=10
TEMPORAL_DECAY_RATE=0.95

# ============================================
# HARDWARE ACCELERATION
# ============================================
# Options: cuda, tensorrt, directml, openvino, cpu
EXECUTION_PROVIDER=cpu
# Set to 'cuda' if NVIDIA GPU available
# Set to 'directml' for Windows GPU
# Set to 'openvino' for Intel hardware

ENABLE_GPU=false
CUDA_DEVICE_ID=0

# ============================================
# STREAM SOURCES
# ============================================
# Maximum concurrent streams
MAX_CONCURRENT_STREAMS=5

# Stream types enabled
ENABLE_YOUTUBE_LIVE=true
ENABLE_RTSP_STREAMS=true
ENABLE_AUDIO_STREAMS=true

# ============================================
# THREAT INTELLIGENCE
# ============================================
# Severity Levels: low, medium, high, critical, emergency
DEFAULT_SEVERITY=medium
CAMPAIGN_CORRELATION_THRESHOLD=0.7
VIRAL_VELOCITY_THRESHOLD=1000  # shares per hour
SUSTAINED_HIGH_DURATION_SECONDS=5

# ============================================
# FORENSIC EVIDENCE
# ============================================
EVIDENCE_DIR=./evidence
EVIDENCE_RETENTION_DAYS=90
ENABLE_CRYPTOGRAPHIC_CHAIN=true
EXPORT_FORMATS=json,cef,pdf

# ============================================
# ALERTS & NOTIFICATIONS
# ============================================
# WebSocket
ENABLE_WEBSOCKET=true
WEBSOCKET_HEARTBEAT_SECONDS=30

# SIEM Integration (Webhook - no auth required for local testing)
ENABLE_SIEM=false
SIEM_WEBHOOK_URL=http://localhost:9000/webhook

# Email Alerts (optional - uses local SMTP)
ENABLE_EMAIL_ALERTS=false
SMTP_HOST=localhost
SMTP_PORT=1025  # Use local mailhog/maildev for testing
SMTP_TLS=false
ALERT_EMAIL_FROM=kavach@localhost
ALERT_EMAIL_TO=security@localhost

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
LOG_FILE=./logs/kavach.log
LOG_ROTATION=500 MB
LOG_RETENTION=10 days

# ============================================
# FRONTEND
# ============================================
FRONTEND_URL=http://localhost:5173
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:5173,http://127.0.0.1:5173

# ============================================
# CALIBRATION (Platt Scaling)
# ============================================
PLATT_TEMPERATURE=1.0
PLATT_BIAS=0.0
TARGET_ECE=0.05

# ============================================
# ADAPTIVE RESOURCE MANAGEMENT
# ============================================
ENABLE_ADAPTIVE_SAMPLING=true
ENABLE_FAST_PATH=true
CPU_THRESHOLD_PERCENT=80
MEMORY_THRESHOLD_PERCENT=85
